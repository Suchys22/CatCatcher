[gd_scene load_steps=19 format=2]

[ext_resource path="res://addons/zylann.hterrain/hterrain.gd" type="Script" id=1]
[ext_resource path="res://addons/zylann.hterrain/hterrain_texture_set.gd" type="Script" id=2]
[ext_resource path="res://Textures/Pilgrims_slot0_albedo_bump.packed_tex" type="Texture" id=3]
[ext_resource path="res://Textures/Pilgrims_slot0_normal_roughness.packed_tex" type="Texture" id=4]
[ext_resource path="res://Assets/Cats/1.tscn" type="PackedScene" id=5]
[ext_resource path="res://Textures/Pilgrims_slot1_normal_roughness.packed_tex" type="Texture" id=6]
[ext_resource path="res://Textures/Models/lamp.obj" type="ArrayMesh" id=7]
[ext_resource path="res://Textures/Pilgrims_slot1_albedo_bump.packed_tex" type="Texture" id=8]
[ext_resource path="res://Assets/Player/Player.tscn" type="PackedScene" id=9]
[ext_resource path="res://Textures/Models/stick.obj" type="ArrayMesh" id=10]
[ext_resource path="res://Assets/Levels/TerrainData/data.hterrain" type="Resource" id=11]

[sub_resource type="Animation" id=4]
resource_name = "Day_night"
length = 720.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 720 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector3( -90, 0, 0 ), Vector3( 270, 0, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:light_energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 140.4, 146.1, 200, 520, 570.6, 581.8, 720 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.6, 0.6, 0.2, 0.0, 0.0, 0.2, 0.6, 0.6 ]
}

[sub_resource type="Animation" id=5]
length = 0.001
tracks/0/type = "transform"
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = PoolRealArray( 0, 1, 3.82487, 5.43602, 5.79178, -0.707107, 0, 0, 0.707107, 1, 1, 1 )
tracks/1/type = "value"
tracks/1/path = NodePath(".:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( -90, 0, 0 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath(".:light_energy")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 1.0 ]
}

[sub_resource type="ProceduralSky" id=1]

[sub_resource type="Environment" id=2]
background_mode = 1
background_sky = SubResource( 1 )
background_color = Color( 0.486275, 0.647059, 0.654902, 1 )
ambient_light_color = Color( 0.486275, 0.647059, 0.654902, 1 )
ambient_light_energy = 0.1
fog_enabled = true
fog_color = Color( 0.776471, 0.843137, 0.913725, 1 )
fog_depth_begin = 70.0
fog_depth_end = 600.0
fog_height_enabled = true
fog_height_min = 70.0
fog_height_max = 80.0
tonemap_mode = 3
ssao_enabled = true
ssao_bias = 0.1
ssao_light_affect = 1.0
dof_blur_far_enabled = true
dof_blur_far_distance = 450.0
dof_blur_far_transition = 90.0
dof_blur_far_amount = 0.05
glow_enabled = true
glow_bloom = 0.07
glow_blend_mode = 0
glow_bicubic_upscale = true
glow_high_quality = true

[sub_resource type="Animation" id=6]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:environment:ambient_light_color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 0.486275, 0.647059, 0.654902, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:environment:background_color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 0.486275, 0.647059, 0.654902, 1 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath(".:environment:fog_color")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 0.776471, 0.843137, 0.913725, 1 ) ]
}

[sub_resource type="Animation" id=7]
resource_name = "SkyColor"
length = 720.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:environment:background_color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 140, 180, 199.7, 360, 530, 540.5, 580, 720 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 0.486275, 0.647059, 0.654902, 1 ), Color( 0.486275, 0.647059, 0.654902, 1 ), Color( 1, 0.701961, 0.188235, 1 ), Color( 0.0117647, 0, 0.0470588, 1 ), Color( 0.0352941, 0.0117647, 0.0509804, 1 ), Color( 0, 0, 0, 1 ), Color( 1, 0.909804, 0.180392, 1 ), Color( 0.486275, 0.647059, 0.654902, 1 ), Color( 0.486275, 0.647059, 0.654902, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:environment:ambient_light_color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 140, 180, 200, 530, 540, 580, 720 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 0.486275, 0.647059, 0.654902, 1 ), Color( 0.996078, 0.698039, 0.188235, 1 ), Color( 0, 0, 0, 1 ), Color( 0, 0, 0, 1 ), Color( 1, 0.819608, 0.113725, 1 ), Color( 0.486275, 0.647059, 0.654902, 1 ), Color( 0.486275, 0.647059, 0.654902, 1 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath(".:environment:fog_color")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 140, 180, 200, 520, 540, 580, 720 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 0.776471, 0.843137, 0.913725, 1 ), Color( 0.776471, 0.843137, 0.913725, 1 ), Color( 1, 0.8, 0.458824, 1 ), Color( 0, 0, 0, 1 ), Color( 0, 0, 0, 1 ), Color( 1, 0.964706, 0.419608, 1 ), Color( 0.776471, 0.843137, 0.913725, 1 ), Color( 0.776471, 0.843137, 0.913725, 1 ) ]
}

[sub_resource type="Resource" id=8]
script = ExtResource( 2 )
mode = 0
textures = [ [ ExtResource( 3 ), ExtResource( 8 ) ], [ ExtResource( 4 ), ExtResource( 6 ) ] ]

[node name="Spatial" type="Spatial"]

[node name="CSGBox" type="CSGBox" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 46.6328, 0.0883951, 28.8365 )
use_in_baked_light = true
use_collision = true
width = 42.7432
depth = 40.6688

[node name="CSGBox2" type="CSGBox" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 178.724, -377.614 )
use_in_baked_light = true
width = 32.2829
height = 400.961
depth = 18.0886

[node name="CSGBox3" type="CSGBox" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 119.181, 56.6227, -947.777 )
use_in_baked_light = true
width = 32.2829
height = 117.136
depth = 18.0886

[node name="CSGBox4" type="CSGBox" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -146.244, 56.6227, -947.777 )
use_in_baked_light = true
width = 32.2829
height = 117.136
depth = 18.0886

[node name="CSGBox5" type="CSGBox" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 166.314, 56.6227, -714.782 )
use_in_baked_light = true
width = 32.2829
height = 168.787
depth = 18.0886

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 3.82487, 5.43602, 5.79178 )
light_size = 0.817
light_cull_mask = 4294967279
shadow_enabled = true
directional_shadow_blend_splits = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="DirectionalLight"]
autoplay = "Day_night"
anims/Day_night = SubResource( 4 )
anims/RESET = SubResource( 5 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 2 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="WorldEnvironment"]
autoplay = "SkyColor"
anims/RESET = SubResource( 6 )
anims/SkyColor = SubResource( 7 )

[node name="HTerrain" type="Spatial" parent="."]
script = ExtResource( 1 )
_terrain_data = ExtResource( 11 )
chunk_size = 32
collision_enabled = true
collision_layer = 1
collision_mask = 1
shader_type = "Classic4Lite"
custom_shader = null
custom_globalmap_shader = null
texture_set = SubResource( 8 )
shader_params/u_ground_uv_scale = 3.0
shader_params/u_depth_blending = true
shader_params/u_triplanar = false
shader_params/u_tile_reduction = Plane( 1, 1, 1, 0 )

[node name="Cicinka" parent="." instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1028.93, -0.256666, 1025.05 )

[node name="FPS" parent="." instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1028.05, 1.29117, 1030.13 )

[node name="stick" type="MeshInstance" parent="."]
transform = Transform( 0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, 1033.24, 0.851617, 1031.06 )
mesh = ExtResource( 10 )
material/0 = null

[node name="lamp" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1028.7, -1.64051, 1036.59 )
mesh = ExtResource( 7 )
material/0 = null
